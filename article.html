<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beyond Horizon | Article</title>
<link rel="icon" href="assets/images/favicon.ico">
<style>
body {margin:0;font-family:'Plus Jakarta Sans',Arial,sans-serif;background:#fff;}
.container {max-width:900px;margin:auto;padding:2rem;}
h1 {color:#1976d2;margin-bottom:0.5rem;}
p {line-height:1.5;color:#333;}
img {max-width:100%;margin:1rem 0;border-radius:5px;}
</style>
</head>
<body>

<div class="container" id="article-container">
  <p>Loading article...</p>
</div>

<script>
async function loadArticle() {
  const params = new URLSearchParams(window.location.search);
  const slug = params.get('slug');
  if(!slug){document.getElementById('article-container').innerHTML='<p>Article not found.</p>'; return;}

  try {
    const res = await fetch('get_articles.php');
    const articles = await res.json();
    const article = articles.find(a => a.slug === slug);
    if(!article){document.getElementById('article-container').innerHTML='<p>Article not found.</p>'; return;}

    document.getElementById('article-container').innerHTML = `
      <h1>${article.title}</h1>
      <p><em>${article.author} | ${new Date(article.published_at).toLocaleDateString()}</em></p>
      ${article.cover_image ? `<img src="${article.cover_image}" alt="Cover Image">` : ''}
      <p>${article.content}</p>
    `;
  } catch(err) {
    console.error(err);
    document.getElementById('article-container').innerHTML='<p>Error loading article.</p>';
  }
}

loadArticle();
</script>

</body>
</html>
